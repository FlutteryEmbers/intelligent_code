{"id": "REQ-AUTO-001", "goal": "Ensure proper configuration of the MCPServerObjectMapper for handling SSE and SseMessageEndpoint.", "constraints": ["Use default settings if no custom configurations are provided", "Support dynamic endpoint updates"], "acceptance_criteria": ["The MCPServerObjectMapper is configured with default settings when no custom configurations are specified.", "The MCPServerObjectMapper can handle dynamic updates to SseMessageEndpoint without requiring a restart."], "non_goals": ["Implementing SSL/TLS encryption for the object mapper", "Handling HTTP requests other than SSE"], "evidence_refs": [{"symbol_id": "org.springframework.ai.mcp.server.common.autoconfigure.McpServerObjectMapperAutoConfiguration.mcpServerObjectMapper", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-server-common/src/main/java/org/springframework/ai/mcp/server/common/autoconfigure/McpServerObjectMapperAutoConfiguration.java", "start_line": 58, "end_line": 71, "source_hash": "28539d135d5e8124911739fb1f1f054bb46461030d4aaef271a745094198c47a"}, {"symbol_id": "org.springframework.ai.mcp.server.common.autoconfigure.properties.McpServerSseProperties.setSseMessageEndpoint", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-server-common/src/main/java/org/springframework/ai/mcp/server/common/autoconfigure/properties/McpServerSseProperties.java", "start_line": 74, "end_line": 77, "source_hash": "ee94f98ed5bccda67a9b961aa6969df3800480939d770a3a8d8ccb20f307ec97"}]}
{"id": "REQ-AUTO-002", "goal": "Register MCPSync and MCAsync handlers for chat client annotations.", "constraints": ["Ensure compatibility with existing annotations", "Support multiple handler registrations"], "acceptance_criteria": ["MCPSync and MCAasync handlers are registered correctly based on the presence of specific annotations.", "The system supports registering multiple MCPSync and MCAasync handlers without conflicts."], "non_goals": ["Implementing custom annotation types", "Handling asynchronous operations in synchronous methods"], "evidence_refs": [{"symbol_id": "org.springframework.ai.mcp.client.common.autoconfigure.annotations.McpClientAnnotationScannerAutoConfiguration.clientMcpSyncHandlersRegistry", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-client-common/src/main/java/org/springframework/ai/mcp/client/common/autoconfigure/annotations/McpClientAnnotationScannerAutoConfiguration.java", "start_line": 63, "end_line": 69, "source_hash": "3fb58f8fa0d51d23372b7ca5c5204e18fde2c9ed9f4d95bde0fb10323626e508"}, {"symbol_id": "org.springframework.ai.mcp.client.common.autoconfigure.annotations.McpClientAnnotationScannerAutoConfiguration.clientMcpAsyncHandlersRegistry", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-client-common/src/main/java/org/springframework/ai/mcp/client/common/autoconfigure/annotations/McpClientAnnotationScannerAutoConfiguration.java", "start_line": 71, "end_line": 76, "source_hash": "c251570f0b78bb4db367f18d9f7ba5cd4e5bcbe0bdbc0a69196eff7ea11ea4aa"}]}
{"id": "REQ-AUTO-003", "goal": "Ensure proper configuration of the MCP server object mapper with specific settings.", "constraints": ["Use Jackson annotations for customizing the object mapper", "Configure the object mapper to handle exceptions gracefully"], "acceptance_criteria": ["The `McpServerObjectMapperAutoConfiguration` class should initialize an object mapper with Jackson annotations and exception handling configurations.", "The object mapper should be configured to ignore unknown properties and convert dates using a custom date format."], "non_goals": ["Do not configure the object mapper for client-side use", "Do not include any logging or tracing configurations"], "evidence_refs": [{"symbol_id": "org.springframework.ai.mcp.server.common.autoconfigure.McpServerObjectMapperAutoConfiguration.mcpServerObjectMapper", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-server-common/src/main/java/org/springframework/ai/mcp/server/common/autoconfigure/McpServerObjectMapperAutoConfiguration.java", "start_line": 58, "end_line": 71, "source_hash": "28539d135d5e8124911739fb1f1f054bb46461030d4aaef271a745094198c47a"}, {"symbol_id": "org.springframework.ai.mcp.server.common.autoconfigure.properties.McpServerSseProperties.setSseMessageEndpoint", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-server-common/src/main/java/org/springframework/ai/mcp/server/common/autoconfigure/properties/McpServerSseProperties.java", "start_line": 74, "end_line": 77, "source_hash": "ee94f98ed5bccda67a9b961aa6969df3800480939d770a3a8d8ccb20f307ec97"}]}
{"id": "REQ-AUTO-004", "goal": "Register and configure asynchronous and synchronous MCP client handlers using annotations.", "constraints": ["Use Spring AOP for handling asynchronous operations", "Ensure proper registration of synchronous handlers"], "acceptance_criteria": ["The `McpClientAnnotationScannerAutoConfiguration` class should register both asynchronous and synchronous MCP client handlers based on annotations.", "Asynchronous handlers should be configured to use a specific thread pool executor."], "non_goals": ["Do not configure the handlers for non-MCP clients", "Do not include any logging or tracing configurations"], "evidence_refs": [{"symbol_id": "org.springframework.ai.mcp.client.common.autoconfigure.annotations.McpClientAnnotationScannerAutoConfiguration.clientMcpAsyncHandlersRegistry", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-client-common/src/main/java/org/springframework/ai/mcp/client/common/autoconfigure/annotations/McpClientAnnotationScannerAutoConfiguration.java", "start_line": 71, "end_line": 76, "source_hash": "c251570f0b78bb4db367f18d9f7ba5cd4e5bcbe0bdbc0a69196eff7ea11ea4aa"}, {"symbol_id": "org.springframework.ai.mcp.client.common.autoconfigure.annotations.McpClientAnnotationScannerAutoConfiguration.clientMcpSyncHandlersRegistry", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-client-common/src/main/java/org/springframework/ai/mcp/client/common/autoconfigure/annotations/McpClientAnnotationScannerAutoConfiguration.java", "start_line": 63, "end_line": 69, "source_hash": "3fb58f8fa0d51d23372b7ca5c5204e18fde2c9ed9f4d95bde0fb10323626e508"}]}
{"id": "REQ-AUTO-005", "goal": "Ensure proper configuration of asynchronous and synchronous MCP client handlers.", "constraints": ["Handlers must be registered for both async and sync operations", "Configuration should handle different types of annotations"], "acceptance_criteria": ["All annotated methods are correctly registered as handlers", "Handlers can process both async and sync requests without errors"], "non_goals": ["Handling of non-annotated methods", "Registration of handlers for other types of clients"], "evidence_refs": [{"symbol_id": "org.springframework.ai.mcp.client.common.autoconfigure.annotations.McpClientAnnotationScannerAutoConfiguration.clientMcpAsyncHandlersRegistry", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-client-common/src/main/java/org/springframework/ai/mcp/client/common/autoconfigure/annotations/McpClientAnnotationScannerAutoConfiguration.java", "start_line": 71, "end_line": 76, "source_hash": "c251570f0b78bb4db367f18d9f7ba5cd4e5bcbe0bdbc0a69196eff7ea11ea4aa"}, {"symbol_id": "org.springframework.ai.mcp.client.common.autoconfigure.annotations.McpClientAnnotationScannerAutoConfiguration.clientMcpSyncHandlersRegistry", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-client-common/src/main/java/org/springframework/ai/mcp/client/common/autoconfigure/annotations/McpClientAnnotationScannerAutoConfiguration.java", "start_line": 63, "end_line": 69, "source_hash": "3fb58f8fa0d51d23372b7ca5c5204e18fde2c9ed9f4d95bde0fb10323626e508"}]}
{"id": "REQ-AUTO-006", "goal": "Configure the ObjectMapper for MCP server to handle specific message endpoints.", "constraints": ["ObjectMapper should be configured with custom settings", "Endpoints must be correctly set"], "acceptance_criteria": ["The ObjectMapper is properly configured and handles messages from both SSE and SseMessageEndpoint", "Custom settings are applied without errors"], "non_goals": ["Configuration of other types of ObjectMappers", "Handling non-message related endpoints"], "evidence_refs": [{"symbol_id": "org.springframework.ai.mcp.server.common.autoconfigure.McpServerObjectMapperAutoConfiguration.mcpServerObjectMapper", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-server-common/src/main/java/org/springframework/ai/mcp/server/common/autoconfigure/McpServerObjectMapperAutoConfiguration.java", "start_line": 58, "end_line": 71, "source_hash": "28539d135d5e8124911739fb1f1f054bb46461030d4aaef271a745094198c47a"}, {"symbol_id": "org.springframework.ai.mcp.server.common.autoconfigure.properties.McpServerSseProperties.setSseMessageEndpoint", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-server-common/src/main/java/org/springframework/ai/mcp/server/common/autoconfigure/properties/McpServerSseProperties.java", "start_line": 74, "end_line": 77, "source_hash": "ee94f98ed5bccda67a9b961aa6969df3800480939d770a3a8d8ccb20f307ec97"}]}
{"id": "REQ-AUTO-007", "goal": "Ensure proper configuration of the MCP server object mapper to handle SSE messages and endpoints.", "constraints": ["The configuration must be compatible with both message and non-message endpoints.", "It should support asynchronous and synchronous communication."], "acceptance_criteria": ["The `McpServerObjectMapperAutoConfiguration` class correctly sets up the object mapper for handling MCP server-side configurations.", "The object mapper is configured to handle SSE messages and their respective endpoints."], "non_goals": ["This requirement does not cover client-side configurations.", "It does not address asynchronous handler registration."], "evidence_refs": [{"symbol_id": "org.springframework.ai.mcp.server.common.autoconfigure.McpServerObjectMapperAutoConfiguration.mcpServerObjectMapper", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-server-common/src/main/java/org/springframework/ai/mcp/server/common/autoconfigure/McpServerObjectMapperAutoConfiguration.java", "start_line": 58, "end_line": 71, "source_hash": "28539d135d5e8124911739fb1f1f054bb46461030d4aaef271a745094198c47a"}, {"symbol_id": "org.springframework.ai.mcp.server.common.autoconfigure.properties.McpServerSseProperties.setSseMessageEndpoint", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-server-common/src/main/java/org/springframework/ai/mcp/server/common/autoconfigure/properties/McpServerSseProperties.java", "start_line": 74, "end_line": 77, "source_hash": "ee94f98ed5bccda67a9b961aa6969df3800480939d770a3a8d8ccb20f307ec97"}]}
{"id": "REQ-AUTO-008", "goal": "Register and configure asynchronous and synchronous MCP client handlers for both synchronous and asynchronous communication.", "constraints": ["Handlers must be registered based on annotations.", "They should support both synchronous and asynchronous methods."], "acceptance_criteria": ["The `McpClientAnnotationScannerAutoConfiguration` class correctly registers and configures asynchronous and synchronous MCP client handlers.", "Handlers are annotated with the appropriate annotations for their respective communication types."], "non_goals": ["This requirement does not cover server-side configurations.", "It does not address tracer presence or absence."], "evidence_refs": [{"symbol_id": "org.springframework.ai.mcp.client.common.autoconfigure.annotations.McpClientAnnotationScannerAutoConfiguration.clientMcpAsyncHandlersRegistry", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-client-common/src/main/java/org/springframework/ai/mcp/client/common/autoconfigure/annotations/McpClientAnnotationScannerAutoConfiguration.java", "start_line": 71, "end_line": 76, "source_hash": "c251570f0b78bb4db367f18d9f7ba5cd4e5bcbe0bdbc0a69196eff7ea11ea4aa"}, {"symbol_id": "org.springframework.ai.mcp.client.common.autoconfigure.annotations.McpClientAnnotationScannerAutoConfiguration.clientMcpSyncHandlersRegistry", "file_path": "auto-configurations/mcp/spring-ai-autoconfigure-mcp-client-common/src/main/java/org/springframework/ai/mcp/client/common/autoconfigure/annotations/McpClientAnnotationScannerAutoConfiguration.java", "start_line": 63, "end_line": 69, "source_hash": "3fb58f8fa0d51d23372b7ca5c5204e18fde2c9ed9f4d95bde0fb10323626e508"}]}
