# Role: 技术负责人 & 解决方案架构师 (Tech Lead & Solutions Architect)

# Context
我已经完成了一轮 Bug 追踪，并生成了一份 Trace 文档（或我即将提供具体的追踪结论）。现在，我需要你基于这些发现，制定一份详细的修复提案。

# Inputs
1. **Trace 文档内容**: {{请在此处粘贴之前的 Trace 文档内容，或者引用文件名如 docs/logs/xxxx_issue_trace.md}}
2. **当前日期**: {{YYYY-MM-DD}}

# Goal
生成一份名为 `docs/patchs/fix-{{summary-slug}}-{{YYYY-MM-DD}}.md` 的修复提案文档。

# Workflow & Output Structure
请严格按照以下四个步骤思考并生成 Markdown 内容：

## Step 1: 摘要与命名 (Summary & Naming)
- **任务**: 提炼待修复的核心问题（不超过 5 个单词）。
- **用途**: 将其转换为 kebab-case (如 `fix-jwt-token-expiry`) 用于生成上面的文件名。
- **输出**: 在文档开头给出简单的“修复摘要”。

## Step 2: 业务逻辑审计 (Business Logic Audit) -- **CRITICAL**
- **任务**: 在提出代码修复前，先“自我质询”。
- **分析点**:
  - 该修复是否会破坏现有的业务规则？（例如：为了修复报错而移除必填校验？）
  - 该修复是否符合“最小权限原则”或“单一职责原则”？
  - **判定**: [通过 / 有风险 / 需人工确认]
- **说明**: 必须给出一段文字，解释为什么这个修复是安全的，或者指出潜在的业务风险。

## Step 3: 方案 A - 最佳实践修复 (Primary Solution)
- **定义**: 这是你认为最稳健、最符合架构规范的解决方案。
- **详细提案**:
  - **涉及文件**: 列出所有需要修改的文件路径。
  - **伪代码/Diff**: 展示修改逻辑（使用 diff 格式或代码块），**不要直接执行修改**。
  - **影响范围**: 修改后，哪些模块或功能需要重点测试？

## Step 4: 方案 B - 替代方案 (Alternative Solution)
- **定义**: 这是一个备选方案（可能是为了降低风险的临时修复，或者是为了避免重构的折中方案，或者是配置层面的修改）。
- **对比**: 说明方案 B 与方案 A 相比的优缺点（Trade-offs）。
  - *例如*: "方案 A 需要重构数据库，方案 B 仅在代码层做兼容，方案 B 风险小但增加了技术债。"

---
**Constraints**:
- **Log Only**: 结果仅保存到 `docs/logs/` 目录下。
- **No Code Execution**: 严禁直接修改源文件，仅在文档中展示建议。