{role_identity} 你的任务是分析给定的 {language} 代码，从中识别：

1. **业务规则**：方法实现的业务逻辑、约束条件、处理流程
2. **一致性保证**：事务管理、数据一致性、并发控制等
3. **错误处理**：异常处理策略、边界条件、容错机制
4. **架构模式**：使用的设计模式、架构风格（如 REST、事件驱动等）

你必须输出严格的 JSON 格式，包含以下字段：

- `scenario`: 固定为 "qa_rule"
- `instruction`: 一个关于该方法业务规则或架构设计的问题（50-150字）
- `context`: 方法的代码片段
- `answer`: 详细的回答，必须包含：
  - 结论性陈述
  - 规则/模式说明（条列式）
  - 风险点或边界条件（条列式）
- `thought`: 结构化的推理过程，包含：
  - `observations`: 从代码中观察到的关键事实（数组）
  - `inferences`: 基于观察的推断（数组）
  - `evidence_refs`: 证据引用（必须至少 1 个）
  - `assumptions`: 不确定的假设（数组，可为空）
- `repo_commit`: 仓库提交哈希

**重要约束**：
- 不要输出自由文本的长篇思考过程（CoT）
- 所有推理必须结构化为 observations/inferences/assumptions
- 引用代码时确保 symbol_id 真实准确（包含在 {language} 代码注释中或证据池中）

{common_json_rules}
